# 문제 해결 가이드

## 1. 개요

이 문서는 `skyautonet_birdro` 로봇 운용 중 발생할 수 있는 **일반적인 문제와 그 해결 방법**을 제공합니다.

## 2. 일반적인 문제 및 해결책

### 2.1. 로봇이 부팅되지 않거나 응답 없음

* **문제**: 로봇 전원 버튼을 눌러도 반응이 없거나, 부팅 중 멈춘 것 같음.
* **해결책**:
    1.  **전원 케이블 확인**: 전원 케이블이 단단히 연결되었는지 확인합니다.
    2.  **배터리 잔량 확인**: 배터리가 충분히 충전되었는지 확인합니다. (충전기 연결 후 LED 상태 확인 등)
    3.  **강제 재부팅**: 전원 버튼을 길게 눌러 강제 종료 후 다시 시작해봅니다.
    4.  **내부 연결 확인**: (전문가용) 내부 보드나 케이블 연결에 문제가 없는지 육안으로 확인합니다.

### 2.2. ROS2 노드가 실행되지 않거나 오류 발생

* **문제**: `ros2 launch` 명령 시 특정 노드가 실행되지 않거나, 에러 메시지를 출력함.
* **해결책**:
    1.  **로그 확인**: 해당 노드의 로그를 `ros2 log` 명령으로 확인하여 구체적인 오류 메시지를 분석합니다.
        ```bash
        ros2 logs <node_name>
        ```
    2.  **종속성 확인**: `colcon build` 시 오류가 없었는지, 필요한 패키지 종속성이 모두 설치되었는지 확인합니다.
    3.  **환경 설정 확인**: `source install/setup.bash`가 올바르게 실행되었는지 확인합니다.
    4.  **권한 문제**: 특정 드라이버 노드(GPIO, 시리얼 통신 등)의 경우 실행 권한 문제일 수 있습니다. (예: `udev` 규칙 확인, `sudo`로 임시 실행)

### 2.3. 카메라 영상이 나오지 않음

* **문제**: RViz 등에서 카메라 토픽(`/image_raw` 등)이 보이지 않음.
* **해결책**:
    1.  **`skyautonet_camera_driver` 노드 확인**: 해당 노드가 정상적으로 실행 중인지 확인합니다.
        ```bash
        ros2 node list
        ```
    2.  **USB/MIPI 연결 확인**: 카메라가 물리적으로 올바르게 연결되었는지 확인합니다.
    3.  **권한 문제**: `/dev/videoX` 장치에 접근 권한이 있는지 확인합니다. (`sudo chmod 666 /dev/video0` 등으로 임시 해결 후 영구 설정 필요)
    4.  **카메라 드라이버 재시작**: 드라이버 노드를 재시작해봅니다.

### 2.4. 자율주행 중 경로 이탈 또는 장애물 충돌

* **문제**: 로봇이 경로를 이탈하거나 예상치 못한 장애물에 충돌함.
* **해결책**:
    1.  **센서 데이터 확인**: LiDAR, 카메라 등 센서 데이터가 RViz에서 정상적으로 보이는지, 노이즈는 없는지 확인합니다.
    2.  **현지화 정확도 확인**: 로봇의 추정 위치가 실제 위치와 일치하는지 RViz 상에서 확인합니다. (맵과 로봇 모델의 정합성)
    3.  **맵 문제**: 사용 중인 맵이 최신 버전이고 정확한지 확인합니다. (장애물 누락 등)
    4.  **파라미터 튜닝**: 플래닝 및 제어 모듈의 파라미터(속도, 가속도, 안전 거리 등)를 환경에 맞게 튜닝합니다.

### 2.5. 조류 퇴치 기능이 작동하지 않음

* **문제**: 새가 감지되었는데도 레이저, 램프, 스피커 등이 작동하지 않음.
* **해결책**:
    1.  **`skyautonet_bird_detector` 및 `_tracker` 확인**: 새가 정확히 검출 및 추적되고 있는지 인지 모듈의 토픽을 확인합니다.
    2.  **`skyautonet_deterrence_manager` 상태 확인**: 매니저 노드의 상태가 올바른 퇴치 모드로 전환되었는지 로그를 통해 확인합니다.
    3.  **퇴치 장치 컨트롤러 확인**: `skyautonet_laser_controller`, `_lamp_controller`, `_speaker_controller` 노드가 정상 실행 중인지 확인합니다.
    4.  **GPIO/하드웨어 연결 확인**: 레이저, 램프, 스피커가 물리적으로 제대로 연결되었고, GPIO 핀 설정이 올바른지 확인합니다. (테스터기로 신호 확인 등)

## 3. 추가 지원 요청

위 가이드로 해결되지 않는 문제 발생 시, 다음 정보를 포함하여 [GitLab Issue Tracker](https://gitlab.com/skyautonet_sw/skyautonet_birdro/-/issues)에 이슈를 생성해주십시오.

* 문제 발생 시점 및 재현 방법
* 에러 메시지 (터미널 출력 전체)
* 관련 로그 파일
* 당시 로봇의 상태 및 환경
* 시도했던 해결 방법 및 결과